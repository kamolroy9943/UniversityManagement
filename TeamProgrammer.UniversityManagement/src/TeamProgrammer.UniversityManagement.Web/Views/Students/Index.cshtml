
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table id="StudentTable" class="table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th>Student Name</th>
            <th>Reg No</th>
            <th>Department</th>
            <th>Semester</th>
            <th>Email</th>
            <th>Date</th>
            <th>Seasson</th>
            <th>Address</th>
            <th>Contact No</th>
            <th></th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

@section scripts{
    <script>
        $(document).ready(function () {
            var d = new Date();

            $("#StudentTable").dataTable({
                ajax: {
                    url: "/Students/GetAllStudents",
                    type: "POST",
                    dataType: "JSON"
                },
                serverSide: "true",
                processing: "true",
                columns: [

                     {
                         data: "StudentName"
                     },
                     {
                         data: "Registration"
                     },
                     {
                         data: "DeptName"
                     },
                     {
                         data: "Semester"
                     },
                     {
                         data: "Email"
                     },
                     {
                         data: "Date",
                         render: function (data, type, row) {
                             var pattern = /Date\(([^)]+)\)/;
                             var results = pattern.exec(data);
                             var dt = new Date(parseFloat(results[1]));
                             return (dt.getMonth() + 1) + "/" + dt.getDate() + "/" + dt.getFullYear();
                             //return eval(data.replace(/\/Date\((\d+)\)\//gi, "new Date($1)"));;
                             //return new Date(parseInt(data.substr(6)));
                             //return new Date(parseInt(data.replace('/Date(', '')));
                         }
                     },
                     {
                         data: "Seasson"
                     },
                     {
                         data: "Address"
                     },
                     {
                         data: "ContactNo"
                     },
                    {
                        render: function (data, type, students) {
                            return "<a href='/Students/edit/" + students.StudentId + "'> Edit</a>|<a href='/Students/Details/" + students.StudentId + "'> Details </a>|<a href='/Students/Delete/" + students.StudentId + "'> Delete</a>";
                        }
                    }
                ]

            });

        });
    </script>
}




























































@*@model IEnumerable<TeamProgrammer.UniversityManagement.Core.Entities.Student>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
       
        <th>
            @Html.DisplayNameFor(model => model.StudentName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Registration)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Department.DeptName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Semester.SemesterName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Date)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Seasson)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Address)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ContactNo)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
       
        <td>
            @Html.DisplayFor(modelItem => item.StudentName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Registration)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Department.DeptName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Semester.SemesterName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Date)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Seasson)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Address)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ContactNo)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.StudentId }) |
            @Html.ActionLink("Details", "Details", new { id=item.StudentId }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.StudentId })
        </td>
    </tr>
}

</table>*@
